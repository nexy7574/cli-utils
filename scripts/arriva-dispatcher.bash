#!/usr/bin/env bash
# This file will not be installed by pipx!
# Please run the following command:
#     sudo wget -O /etc/NetworkManager/dispatcher.d/arriva-dispatcher.bash && sudo chmod +x /etc/NetworkManager/dispatcher.d/arriva-dispatcher.bash

#DHCP4_DHCP_LEASE_TIME=86400
#DEVICE_IFACE=wlan0
#DHCP4_REQUESTED_ROUTERS=1
#DHCP4_IP_ADDRESS=192.168.0.22
#IP4_ROUTE_0=192.168.0.0/24 0.0.0.0 600
#DHCP4_DOMAIN_NAME=www.tendawifi.com
#DHCP4_DOMAIN_NAME_SERVERS=192.168.0.32 1.1.1.1
#DHCP4_REQUESTED_BROADCAST_ADDRESS=1
#DHCP4_REQUESTED_DOMAIN_SEARCH=1
#IP4_ADDRESS_0=192.168.0.22/24 192.168.0.1
#DHCP4_EXPIRY=1670966684
#DHCP4_REQUESTED_NTP_SERVERS=1
#DHCP4_REQUESTED_ROOT_PATH=1
#IP6_ROUTE_0=fe80::/64 :: 1024
#PWD=/
#DHCP4_ROUTERS=192.168.0.1
#CONNECTION_UUID=c5ab9740-69ae-4120-935d-d683ef157a44
#IP6_GATEWAY=0.0.0.0
#DHCP4_DHCP_SERVER_IDENTIFIER=192.168.0.1
#DHCP4_REQUESTED_NIS_DOMAIN=1
#IP6_ADDRESS_0=fe80::42a0:faa:dec6:deca/64 0.0.0.0
#DHCP4_REQUESTED_DOMAIN_NAME=1
#IP4_NAMESERVERS=192.168.0.32 1.1.1.1 1.0.0.1
#DHCP4_REQUESTED_WPAD=1
#IP4_NUM_ADDRESSES=1
#CONNECTION_FILENAME=/etc/NetworkManager/system-connections/VM9017369-FAST.nmconnection
#DHCP4_REQUESTED_NIS_SERVERS=1
#DHCP4_REQUESTED_MS_CLASSLESS_STATIC_ROUTES=1
#IP6_NUM_ROUTES=1
#DHCP4_REQUESTED_HOST_NAME=1
#IP4_GATEWAY=192.168.0.1
#DHCP4_REQUESTED_STATIC_ROUTES=1
#DHCP4_REQUESTED_DOMAIN_NAME_SERVERS=1
#NM_DISPATCHER_ACTION=up
#SHLVL=1
#DEVICE_IP_IFACE=wlan0
#DHCP4_REQUESTED_INTERFACE_MTU=1
#CONNECTION_ID=VM9017369-FAST
#DHCP4_REQUESTED_TIME_OFFSET=1
#DHCP4_SUBNET_MASK=255.255.255.0
#DHCP4_REQUESTED_SUBNET_MASK=1
#IP6_NUM_ADDRESSES=1
#CONNECTION_DBUS_PATH=/org/freedesktop/NetworkManager/Settings/9
#PATH=/usr/local/sbin:/usr/local/bin:/usr/bin
#IP4_NUM_ROUTES=1
#IP6_NAMESERVERS=2606:4700:4700::1111 2606:4700:4700::1001
#DHCP4_REQUESTED_RFC3442_CLASSLESS_STATIC_ROUTES=1
#_=/usr/bin/env
#\n
#Shell Params: wlan0 up
if [[ "$2" == "up" && "$1" == "wlan0" ]]; then
    if [ "$CONNECTION_ID" == "arriva-wifi" ]; then
      /home/nex/.local/bin/arriva -YV Laptop
    fi;
fi
